import { useAtParentIndex, useParent } from '../utils/components';
import { COLLAPSE_BIND_COLLAPSE_ITEM_KEY, COLLAPSE_COUNT_COLLAPSE_ITEM_KEY } from '../collapse/provide';
export function useCollapse() {
  var {
    parentProvider,
    bindParent
  } = useParent(COLLAPSE_BIND_COLLAPSE_ITEM_KEY);
  var {
    index
  } = useAtParentIndex(COLLAPSE_COUNT_COLLAPSE_ITEM_KEY);

  if (!parentProvider || !bindParent || !index) {
    throw Error('[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>');
  }

  return {
    index,
    collapse: parentProvider,
    bindCollapse: bindParent
  };
}