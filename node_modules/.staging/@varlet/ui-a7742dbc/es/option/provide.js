import { useAtParentIndex, useParent } from '../utils/components';
import { SELECT_BIND_OPTION_KEY, SELECT_COUNT_OPTION_KEY } from '../select/provide';
export function useSelect() {
  var {
    bindParent,
    parentProvider
  } = useParent(SELECT_BIND_OPTION_KEY);
  var {
    index
  } = useAtParentIndex(SELECT_COUNT_OPTION_KEY);

  if (!bindParent || !parentProvider) {
    throw Error('<var-option/> must in <var-select/>');
  }

  return {
    index,
    select: parentProvider,
    bindSelect: bindParent
  };
}