import { useAtParentIndex, useParent } from '../utils/components';
import { SWIPE_BIND_SWIPE_ITEM_KEY, SWIPE_COUNT_SWIPE_ITEM_KEY } from '../swipe/provide';
export function useSwipe() {
  var {
    bindParent,
    parentProvider
  } = useParent(SWIPE_BIND_SWIPE_ITEM_KEY);
  var {
    index
  } = useAtParentIndex(SWIPE_COUNT_SWIPE_ITEM_KEY);

  if (!bindParent || !parentProvider || !index) {
    throw Error('<var-swipe-item/> must in <var-swipe/>');
  }

  return {
    index,
    swipe: parentProvider,
    bindSwipe: bindParent
  };
}